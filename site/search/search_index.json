{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Accueil","text":"<p>Bienvenue sur la documentation du projet SABU</p> <p>Projet SABU</p> <p>SABU signifie Secure Against Bad USB Key, c'est un projet innovant port\u00e9 par trois \u00e9tudiants dans le cadre d'une formation en cybers\u00e9curit\u00e9.   SABU version 2 se pr\u00e9sente comme une station blanche de pointe bas\u00e9e sur un mod\u00e8le client-serveur. Elle est \u00e9quip\u00e9 de moyens de d\u00e9tection de derni\u00e8re g\u00e9n\u00e9ration, capables d'identifier et de signaler les virus pr\u00e9sents sur les cl\u00e9s USB de vos collaborateurs. Ce projet vise \u00e0 fournir une solution robuste pour s\u00e9curiser les p\u00e9riph\u00e9riques USB, garantissant que les logiciels malveillants ne compromettent pas vos syst\u00e8mes.</p> <p>Liens</p> <ul> <li>Github : https://github.com/sabu-ws/</li> <li>Site : https://sabu-ws.github.io/website</li> <li>Mail : sabu-ws@proton.me</li> </ul>"},{"location":"#sabu-v1","title":"SABU V1","text":"<p>Lien du projet SABU version 1. La documentation de SABU version 1 est disponible directement sur le wiki du d\u00e9p\u00f4t Github.</p>"},{"location":"#sabu-v2","title":"SABU V2","text":"<p>Ce site r\u00e9f\u00e9rence la documentation de SABU version 2. Si vous constatez une information erron\u00e9e ou manquante n'h\u00e9sitez pas \u00e0 nous en informer.</p>"},{"location":"config/","title":"Information","text":"<p>Cette section regroupe les configurations du syst\u00e8me SABU. Si vous avez besoin d'instructions pour effectuer une action, vous trouverez les solutions ici ! Si l'information que vous recherchez ne se trouve pas dans cette section, n'h\u00e9sitez pas \u00e0 contacter l'\u00e9quipe de d\u00e9veloppement SABU.</p>"},{"location":"config/browser/","title":"Browser","text":""},{"location":"config/browser/#liberer-un-fichier-en-quarantaine","title":"Lib\u00e9rer un fichier en quarantaine","text":"<p>Si vous souhaitez lib\u00e9rer un fichier pr\u00e9sent dans la zone en quarantaine d'un utilisateur acc\u00e9dez au Browser puis s\u00e9lectionnez le dossier quarantine puis recherchez l'utilisateur qui doit r\u00e9cup\u00e9rer son fichier. Vous avez ensuite acc\u00e8s \u00e0 la liste des fichiers disponibles dans la zone de quarantaine de l'utilisateur. Cliquez simplement sur le bouton de \"release\" correspondant au fichier.</p> <p></p> <p>Zone de quarantaine</p> <p>La zone de quarantaine contient des fichiers qui ont \u00e9t\u00e9 d\u00e9tect\u00e9 comme malveillant par les antivirus ! Agissez en cons\u00e9quence.</p>"},{"location":"config/endpoints/","title":"Endpoints","text":""},{"location":"config/endpoints/#ajouter-un-endpoint","title":"Ajouter un endpoint","text":"<p>Pour pouvoir ajouter un endpoint, allez dans Endpoint puis cliquez sur Add endpoint. (Si vous souhaitez supprimer un endpoint, cliquez sur la poubelle rouge)</p> <p></p> <p>Information \u00e0 renseigner</p> <ul> <li>Renseigner le nom de l'endpoint</li> <li>G\u00e9n\u00e9rer le token d'authentification puis gardez-le, il vous sera utile lors de l'installation de l'endpoint</li> </ul> <p></p>"},{"location":"config/server/","title":"Server","text":""},{"location":"config/server/#modifier-le-nom-du-serveur","title":"Modifier le nom du serveur","text":"<p>Pour changer le nom du serveur vous devez aller dans Server puis Settings. Ensuite vous avez une section General information o\u00f9 vous trouvez un emplacement pour pouvoir changer le nom du serveur. Vous pouvez aussi ajouter une description si vous le souhaitez.</p> <p></p>"},{"location":"config/server/#modifier-le-certificat-ssl","title":"Modifier le certificat SSL","text":"<p>Pour pouvoir changer le certificat SSL par d\u00e9faut, vous devez aller dans Server puis Settings. Ensuite vous avez une section SSL Certificate o\u00f9 vous pouvez envoyer votre nouveau certificat SSL.</p> <p></p>"},{"location":"config/server/#modifier-les-parametres-reseau","title":"Modifier les param\u00e8tres r\u00e9seau","text":"<p>Pour modifier les param\u00e8tres r\u00e9seau allez dans Server puis Settings. Ensuite il y a une section Network pr\u00e9vu \u00e0 cet effet o\u00f9 il est possible de modifier les informations r\u00e9seau.</p> <p></p>"},{"location":"config/settings/","title":"Settings","text":""},{"location":"config/settings/#ajouter-une-extension","title":"Ajouter une extension","text":"<p>Information</p> <p>Pour effectuer des scans, il est n\u00e9cessaire d'ajouter les extensions de fichiers appropri\u00e9es. Les fichiers dont les extensions ne sont pas ajout\u00e9es ne pourront pas \u00eatre analys\u00e9s.</p> <p>Pour pouvoir ajouter une extension, allez dans Settings puis dans la section File Extension entrer l'extension de fichier que vous souhaitez ajouter et cliquer sur le \"+\" ou alors appuyer sur la touche \"Entrer\" de votre clavier. </p> <p>Pour voir les extensions ajout\u00e9es, cliquez sur Show : </p>"},{"location":"config/settings/#configurer-la-maintenance","title":"Configurer la maintenance","text":"<p>Information</p> <p>Une maintenance est pr\u00e9vue pour mettre \u00e0 jour automatiquement le syst\u00e8me SABU. Par d\u00e9faut la maintenance est programm\u00e9e tous les jours \u00e0 2h.</p> <p>Pour configurer la maintenance, il vous suffit de choisir la fr\u00e9quence des mises \u00e0 jour et de d\u00e9finir l'heure \u00e0 laquelle elles doivent \u00eatre effectu\u00e9es. </p>"},{"location":"config/settings/#configurer-la-retention","title":"Configurer la r\u00e9tention","text":"<p>Information</p> <p>La r\u00e9tention des fichiers d\u00e9termine la dur\u00e9e pendant laquelle les fichiers sont conserv\u00e9s dans l'espace de stockage des utilisateurs. Par d\u00e9faut la r\u00e9tention est configur\u00e9e sur 30 jours.</p> <p>Pour configurer la r\u00e9tention, il suffit de clisser le curseur. </p>"},{"location":"config/users/","title":"Users","text":""},{"location":"config/users/#gerer-les-utilisateurs","title":"G\u00e9rer les utilisateurs","text":"<p>Pour g\u00e9rer les utilisateurs vous devez aller dans Users.</p> <p></p> <p>Tip</p> <p>Vous pouvez \u00e9diter un utilisateur en cliquant sur le bouton bleu. Pour supprimer un utilisateur cliquez sur la poubelle rouge. Pour activer ou d\u00e9sactiver un utilisateur cliquez sur le dernier bouton.</p>"},{"location":"config/users/#ajouter-un-utilisateur","title":"Ajouter un utilisateur","text":"<p>Cliquer sur Add User.</p> <p>Pr\u00e9requis</p> <p>Vous devez avoir cr\u00e9\u00e9 au moins un m\u00e9tier avant de cr\u00e9er un utilisateur.</p> <p></p> <p>Informations \u00e0 renseigner</p> <ul> <li>Nom, Pr\u00e9nom, Email</li> <li>Nom d'utilisateur</li> <li>Son r\u00f4le (Admin ou User)</li> <li>S\u00e9lectionnez son m\u00e9tier (que vous avez cr\u00e9\u00e9 pr\u00e9c\u00e9demment)</li> <li>Renseigner son mot de passe et confirmez-le</li> </ul>"},{"location":"config/users/#gerer-les-metiers","title":"G\u00e9rer les m\u00e9tiers","text":"<p>Pour pouvoir g\u00e9n\u00e9rer les m\u00e9tiers vous devez cliquer sur Manage Job puis ensuite vous pouvez soit ajouter ou supprimer un m\u00e9tier.</p> <p></p>"},{"location":"dev/","title":"Information","text":"<p>[EN] Developer space </p> <p>This section of the documentation is intended for developers using the SABU solution. Here you will find information on specific configurations and useful commands that we have referenced to facilitate our future developments.</p> <p>Please note that these pages contain non-exhaustive documentation that is highly specific to our context. Not all aspects of the system are documented yet, and new pages may be added as needed and as we have availability to write this information.</p> <p>Thank you for your understanding.</p> <p>The SABU development team</p> <p>[FR] Espace d\u00e9veloppeur </p> <p>Cette section de la documentation est destin\u00e9e aux d\u00e9veloppeurs utilisant la solution SABU. Vous y trouverez des informations sur des configurations sp\u00e9cifiques ainsi que des commandes utiles que nous avons r\u00e9f\u00e9renc\u00e9es pour faciliter nos futurs d\u00e9veloppements.</p> <p>Veuillez noter que ces pages contiennent une documentation non exhaustive et tr\u00e8s sp\u00e9cifique \u00e0 notre contexte. Tous les aspects du syst\u00e8me ne sont pas encore document\u00e9s, et de nouvelles pages pourront \u00eatre ajout\u00e9es au fur et \u00e0 mesure de nos besoins et de notre disponibilit\u00e9 pour r\u00e9diger ces informations.</p> <p>Nous vous remercions de votre compr\u00e9hension.</p> <p>L'\u00e9quipe de d\u00e9veloppement SABU</p>"},{"location":"dev/db/","title":"Base de donn\u00e9es","text":"<p>Warning</p> <p>Operations carried out on the database can have irreversible consequences in the event of incorrect handling. Please perform these actions knowingly or if it has been clearly indicated by the SABU development team.</p>"},{"location":"dev/db/#init-db","title":"Init DB","text":"<pre><code>cd /sabu\nsource sabu-venv/bin/activate\nexport FLASK_APP=/sabu/server/server.py\nflask db init\n</code></pre>"},{"location":"dev/db/#update-db","title":"Update DB","text":"<pre><code>cd /sabu/server\nsource /sabu/sabu-venv/bin/activate\nflask db upgrade\n</code></pre>"},{"location":"dev/db/#erase-and-create-db","title":"Erase and create DB","text":"<p>Danger</p> <p>This operation should only be carried out in the event of a major problem with the database. All data will be deleted.</p> <p>Erase <pre><code>service sabu stop\nsu - postgres\npsql\ndrop database sabu_db;\nquit\n</code></pre> Create <pre><code>createdb sabu_db -O sabu_sql\nservice sabu start\n</code></pre></p>"},{"location":"dev/endpoint/","title":"Endpoint","text":"<p>Warning</p> <p>The configurations described on this page were carried out on the Raspbian distribution.</p>"},{"location":"dev/endpoint/#login-with-custom-account","title":"Login with custom account","text":"<p><pre><code>nano /etc/lightdm/lightdm.conf\n</code></pre> <pre><code>Set autologin-user customUSer (Remplace customUser)\n</code></pre> Reboot your endpoint</p> <p>Link</p> <p>Source : https://forums.raspberrypi.com/viewtopic.php?t=113617</p>"},{"location":"dev/endpoint/#chromium-at-startup","title":"Chromium at startup","text":"<p><pre><code>nano ~/.config/wayfire.ini\n</code></pre> <pre><code>[autostart]\nchromium = chromium-browser https://www.google.com --kiosk --noerrdialogs --disable-infobars --no-first-run --ozone-platform=wayland --enable-features=OverlayScrollbar --start-maximized\nscreensaver = false\ndpms = false\n</code></pre></p> <p>Link</p> <p>Source : https://gist.github.com/rampfox/085bf3ffb9ff51e114bf7afdf3ced71b</p>"},{"location":"dev/endpoint/#touchscreen-raspberry-pi","title":"Touchscreen Raspberry Pi","text":"<ul> <li> <p>Method #1 <pre><code>nano ~/.config/wayfire.ini\n</code></pre> <pre><code>[output:DSI-1]\nmode = 800x480@60029\nposition = 0,0\ntransform = 180\n</code></pre></p> </li> <li> <p>Method #2 <pre><code>nano /boot/firmware/config.txt\n</code></pre> <pre><code># For more options and information see\n# http://rptl.io/configtxt\n# Some settings may impact device functionality. See link above for details\n\n# Uncomment some or all of these to enable the optional hardware interfaces\n#dtparam=i2c_arm=on\n#dtparam=i2s=on\n#dtparam=spi=on\n\n# Enable audio (loads snd_bcm2835)\ndtparam=audio=on\n\n# Additional overlays and parameters are documented\n# /boot/firmware/overlays/README\n\n# Automatically load overlays for detected cameras\ncamera_auto_detect=1\n\n# Automatically load overlays for detected DSI displays\ndisplay_auto_detect=1\n\n# Automatically load initramfs files, if found\nauto_initramfs=1\n\n# Enable DRM VC4 V3D driver\ndtoverlay=vc4-kms-dsi-7inch\n#dtoverlay=vc4-kms-dsi-7inch,sizex=400,invx,invy\ndtoverlay=vc4-kms-v3d\nmax_framebuffers=2\n\n# Don't have the firmware create an initial video= setting in cmdline.txt.\n# Use the kernel's default instead.\ndisable_fw_kms_setup=1\n\n# Run in 64-bit mode\narm_64bit=1\n\n# Disable compensation for displays with overscan\ndisable_overscan=1\n\n# Run as fast as firmware / board allows\narm_boost=1\n\n[cm4]\n# Enable host mode on the 2711 built-in XHCI USB controller.\n# This line should be removed if the legacy DWC2 controller is required\n# (e.g. for USB device mode) or if USB support is not required.\notg_mode=1\n\n[all]\n\nlcd_rotate=2\n</code></pre></p> </li> </ul> <p>Link</p> <p>Source : https://howchoo.com/pi/raspberry-pi-display-rotation/</p>"},{"location":"dev/logs/","title":"Logs","text":""},{"location":"dev/logs/#format-des-logs","title":"Format des logs","text":"<pre><code>Format\n[TYPE] DATE HOUR HOST (EXEC BY) MODULE ACTION : MESSAGE\n\nExample\n[DEBUG] 18/03/2024 21:46:23 sabu-server01 (system) FILES EXEC-SCRIPT : remove_old_files.sh was started to remove files older 10 days for /data\n\nField details\nTYPE\n=&gt; DEBUG, INFO, WARN, CRITICAL\n\nDATE HOUR\n=&gt; dd/mm/yyyy hh:mm:ss\n\nHOST\n=&gt; (output command hostname)\n\nEXEC BY\n=&gt; system (sabu), username (user)\n\nMODULE\n=&gt; SETTINGS, FILES, ENDPOINT, etc\n\nACTION\n=&gt; Executed action\n\nMESSAGE\n=&gt; Details informations\n</code></pre>"},{"location":"dev/tailwindcss/","title":"Tailwind CSS","text":"<p>Tailwind CLI build process <pre><code>cd /app/static\nnpx tailwindcss -i ./src/input.css -o ./css/output.css --watch\n</code></pre></p> <p>Link</p> <p>Setup Tailwind CSS : https://tailwindcss.com/docs/installation</p>"},{"location":"dev/yara/","title":"Yara Rules","text":"<p>Info</p> <p>Files are stored in <code>/sabu/server/core/yararules</code> The script is stored in <code>/sabu/server/core/yararules/index_gen.sh</code> (During execution, the script scans subfolders and creates a Yara index for the rules in that folder. Then it creates an index \"index.yar\" with all the Yara rules.)</p>"},{"location":"dev/yara/#create-custom-yara-rules","title":"Create custom Yara rules","text":"<ul> <li>Create folder with your name or company in <code>/sabu/server/core/yararules</code></li> <li>Add your Yara rule in this folder</li> <li>Execute script index_gen.sh in <code>/sabu/server/core/yararules</code> (Script update index.yar and create custom XXX_index.yar with your folder name and include yara's files)</li> </ul> <p>Success</p> <p>Now your can use your SABU with new Yara Rule.</p>"},{"location":"dev/yara/#update-remove-yara-rules","title":"Update / Remove Yara rules","text":"<ul> <li>Update or remove your Yara rule</li> <li>Execute script index_gen.sh in <code>/sabu/server/core/yararules</code> </li> </ul> <p>Success</p> <p>Your Yara rule has been update/remove.</p>"},{"location":"install/endpoint/","title":"Endpoint","text":"<p>Pr\u00e9requis</p> <p>Avant de commencer l'installation, assurez-vous d'avoir suivi les pr\u00e9requis et d'avoir effectu\u00e9 l'ajout d'un endpoint sur le panel d'administation. Vous devez \u00eatre en utilisateur root pour pouvoir effectuer l'installation de SABU.</p>"},{"location":"install/endpoint/#telecharger-le-script-dinstallation","title":"T\u00e9l\u00e9charger le script d'installation","text":"<p>T\u00e9l\u00e9charger le script d'installation sur notre d\u00e9p\u00f4t Github : <pre><code>curl -sSL https://raw.githubusercontent.com/sabu-ws/endpoint/main/install.sh -o install.sh &amp;&amp; chmod +x install.sh\n</code></pre></p>"},{"location":"install/endpoint/#lancer-linstallation","title":"Lancer l'installation","text":"<p>Ex\u00e9cuter le script d'installation automatique et suivez les instructions : <pre><code>./install.sh\n</code></pre></p> Informations \u00e0 renseigner lors de l'installation <ul> <li>Adresse IP du serveur SABU</li> <li>Nom de l'endpoint (tel que configur\u00e9 dans le panel d'administration)</li> <li>Le token (g\u00e9n\u00e9r\u00e9 lors de l'ajout de l'endpoint sur le panel d'administration)</li> </ul> <p>Succ\u00e8s</p> <p>Une fois l'installation termin\u00e9e l'endpoint va red\u00e9marrer.</p> <p>Information</p> <p>Apr\u00e8s le red\u00e9marrage, l'endpoint doit se connecter automatiquement au serveur. (Vous pouvez v\u00e9rifier le statut sur le panel d'administration)</p>"},{"location":"install/requirements/","title":"Requirements","text":""},{"location":"install/requirements/#server","title":"Server","text":"<p>Information</p> <p>Le serveur est le coeur du syst\u00e8me SABU, il est utilis\u00e9 pour plusieurs actions :</p> <ul> <li>Gestion du syst\u00e8me SABU via le panel d'administration</li> <li>Liaison avec les endpoints</li> <li>Scans des fichiers</li> <li>Stockage des fichiers dans les espaces utilisateurs</li> <li>Interface utilisateur cliente pour la gestion de ses fichiers et les scans depuis son ordinateur.</li> </ul> <p>Attention</p> <p>Le serveur \u00e9tant utilis\u00e9 pour les scans, allouer davantage de ressources \u00e0 ce serveur permettra de g\u00e9rer un plus grand nombre de scans simultan\u00e9ment, augmentant ainsi le nombre d'endpoints pris en charge.</p> <ul> <li>Configuration minimale (pour tester le syst\u00e8me) : 2 CPU / 4 Go de RAM. </li> <li>Configuration recommand\u00e9e : 4 CPU / 8 Go de RAM.</li> </ul>"},{"location":"install/requirements/#installation-de-debian","title":"Installation de Debian","text":"<p>Le serveur SABU doit \u00eatre installer dans un environnement Linux. Nous vous recommandons d'installer votre serveur sur la distribution Debian (Test r\u00e9alis\u00e9 sur Debian 12).</p> <p>Lien</p> <p>T\u00e9l\u00e9chargement de Debian : https://www.debian.org/download.fr.html</p>"},{"location":"install/requirements/#configuration-reseau","title":"Configuration r\u00e9seau","text":"<p>Pour le bon fonctionnement du syst\u00e8me SABU, configurez votre serveur avec une adresse IP statique : <pre><code>nano /etc/network/interfaces\n</code></pre> Voici le mod\u00e8le \u00e0 respecter : <pre><code>auto ens18\niface ens18 inet static\naddress X.X.X.X\nnetmask X.X.X.X\ngateway X.X.X.X\n</code></pre></p> <p>Information</p> <p>Veuillez remplacer ens18 par le nom de votre interface r\u00e9seau. Veuillez remplacer les \"X\" par votre configuration r\u00e9seau.</p>"},{"location":"install/requirements/#ajouter-un-disque-supplementaire","title":"Ajouter un disque suppl\u00e9mentaire","text":"<p>Pour stocker les donn\u00e9es des utilisateurs, ajoutez un disque suppl\u00e9mentaire d\u00e9di\u00e9 exclusivement \u00e0 cet usage.</p> <ul> <li>1) Ajouter le disque \u00e0 votre serveur</li> <li>2) Partitionner le disque : <pre><code>fdisk /dev/sdb\n\nkey: n (new)\nkey: p (partition)\nkey: enter x3 (part number, first sector, last sector)\n\nkey: w (write)\n</code></pre></li> <li>3) Formatter le disque : <pre><code>mkfs.ext4 /dev/sdb1\n</code></pre> <p>sdb1 : correspond \u00e0 la partition de votre disque</p> </li> <li>4) Monter le disque : <pre><code>mount /dev/sdb1 /mnt/data\n</code></pre> <p>/mnt/data : correspond au point de montage sur votre syst\u00e8me</p> </li> </ul>"},{"location":"install/requirements/#endpoint","title":"Endpoint","text":"<p>Information</p> <p>Nos endpoints ont \u00e9t\u00e9 test\u00e9s sur des Raspberry Pi 4 avec des \u00e9crans tactiles, vous pouvez utiliser un autre type d'\u00e9quipement si vous le souhaitez.</p> <p>Attention</p> <p>Assurez-vous d'avoir votre \u00e9quipement pleinement fonctionnel (exemple : \u00e9cran tactile fonctionnel). Lors de l'installation nous ne configurons pas automatiquement le mat\u00e9riel de ces \u00e9quipements.</p>"},{"location":"install/requirements/#installation-de-raspbian","title":"Installation de Raspbian","text":"<p>Nos endpoints ont \u00e9t\u00e9 test\u00e9s et install\u00e9s sur la distribution Raspbian.</p> <p>Lien</p> <p>T\u00e9l\u00e9chargement de Raspbian : https://www.raspberrypi.com/software/</p>"},{"location":"install/requirements/#configuration-reseau_1","title":"Configuration r\u00e9seau","text":"<p>V\u00e9rifiez que votre endpoint dispose d'une adresse IP et testez sa connectivit\u00e9 \u00e0 Internet.</p>"},{"location":"install/server/","title":"Server","text":"<p>Pr\u00e9requis</p> <p>Assurez-vous d'avoir suivi les pr\u00e9requis avant de commencer l'installation. Vous devez \u00eatre en utilisateur root pour pouvoir effectuer l'installation de SABU.</p>"},{"location":"install/server/#telecharger-le-script-dinstallation","title":"T\u00e9l\u00e9charger le script d'installation","text":"<p>T\u00e9l\u00e9charger le script d'installation sur notre d\u00e9p\u00f4t Github : <pre><code>curl -sSL https://raw.githubusercontent.com/sabu-ws/server/main/install.sh -o install.sh &amp;&amp; chmod +x install.sh\n</code></pre></p>"},{"location":"install/server/#lancer-linstallation","title":"Lancer l'installation","text":"<p>Ex\u00e9cuter le script d'installation automatique et suivez les instructions : <pre><code>./install.sh\n</code></pre></p> <p>Succ\u00e8s</p> <p>Une fois l'installation termin\u00e9e la machine va red\u00e9marrer.</p>"},{"location":"install/server/#acces-au-panel","title":"Acc\u00e8s au panel","text":"<p>Une fois l'installation termin\u00e9e, vous pouvez acc\u00e9der au panel d'administation via un navigateur :</p> <p>Information par d\u00e9faut</p> <p>URL : https://X.X.X.X (Remplacer par l'adresse IP de votre machine) Nom d'utilisateur : admin Mot de passe : P4$$w0rdF0r54Bu5t4t10N</p>"}]}