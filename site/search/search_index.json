{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Accueil","text":"<p>Bienvenue sur la documentation du projet SABU !</p> <p>Ce site est en cours de r\u00e9daction...</p>"},{"location":"config/","title":"Configuration","text":""},{"location":"dev/","title":"General","text":"<p>Documentation d\u00e9veloppeur</p>"},{"location":"dev/#tailwind-css","title":"Tailwind CSS","text":"<p>Tailwind CLI build process</p> <pre><code>cd /app/static\nnpx tailwindcss -i ./src/input.css -o ./css/output.css --watch\n</code></pre>"},{"location":"dev/#migration-db","title":"Migration DB","text":"<pre><code># Si c'est votre premi\u00e8re fois ( que vous migrer bien sur la db) faites les choese suivantes:\ncd /sabu\nsource sabu-venv/bin/activate\nexport FLASK_APP=/sabu/server/server.py\nflask db init\n\n# Si vous voulez update pour les prochaines fois.\ncd /sabu\nsource sabu-venv/bin/activate\nexport FLASK_APP=/sabu/server/server.py\nflask db migrate\nflask db upgrade\n</code></pre>"},{"location":"dev/#update-db","title":"Update DB","text":"<pre><code>cd /sabu/server\nsource /sabu/sabu-venv/bin/activate\nflask db upgrade\n</code></pre>"},{"location":"dev/#erase-and-create-db","title":"Erase and create DB","text":"<p>Erase</p> <pre><code>service sabu stop\nsu - postgres\npsql\ndrop database sabu_db;\nquit\n</code></pre> <p>Create</p> <pre><code>createdb sabu_db -O sabu_sql\nservice sabu start\n</code></pre>"},{"location":"dev/#media-type-mime","title":"Media type (MIME)","text":"<p>https://www.iana.org/assignments/media-types/media-types.xhtml</p>"},{"location":"dev/disk/","title":"Manage disk","text":"<pre><code>1) Add disk\n- Shutdown your VM\n- Add disk on your VM\n- Start the VM\n\n\n2) Partition\nfdisk /dev/sdb\n\nkey: n (new)\nkey: p (partition)\nkey: enter x3 (part number, first sector, last sector)\n\nkey: w (write)\n\n\n3) Format\nmkfs.ext4 /dev/sdb1\n\n\n4) Mount\n# SABU MOUNT DATA DISK\n/dev/sdb1       /data   ext4    defaults        0       2\n</code></pre>"},{"location":"dev/git/","title":"Git","text":"<p>Use git</p>"},{"location":"dev/git/#pull-or-push","title":"Pull or Push","text":"<pre><code>git add . OR git add myfile\ngit commit -m \u00ab this is m\u2019y commit \u00bb\ngit pull\n\nif \u00ab Already Up To Date \u00bb\n{\n  git push\n} \nelse if \u00ab conflit \u00bb\n{\n  Check and merge local conflit\n  git push\n}\nelse\n{\n  Give Up Dude :D\n}\n</code></pre>"},{"location":"dev/git/#merge-branch","title":"Merge branch","text":"<pre><code>git merge and see doc dude\n</code></pre>"},{"location":"dev/git/#si-probleme","title":"Si probl\u00e8me","text":"<pre><code>Erreur lors d'un git pull :\nhint: You have divergent branches and need to specify how to reconcile them.\nhint: You can do so by running one of the following commands sometime before\nhint: your next pull:\nhint: \nhint:   git config pull.rebase false  # merge\nhint:   git config pull.rebase true   # rebase\nhint:   git config pull.ff only       # fast-forward only\nhint: \nhint: You can replace \"git config\" with \"git config --global\" to set a default\nhint: preference for all repositories. You can also pass --rebase, --no-rebase,\nhint: or --ff-only on the command line to override the configured default per\nhint: invocation.\nfatal: Need to specify how to reconcile divergent branches.\n\nSi les fichiers n'ont pas \u00e9t\u00e9s modifi\u00e9s par 2 personnes (donc ne sont pas en conflit)(voir dans vscode) -&gt; git merge puis git pull puis git push\n</code></pre>"},{"location":"dev/logs/","title":"Logs","text":""},{"location":"dev/logs/#format-des-logs","title":"Format des logs","text":"<pre><code>Format\n[TYPE] DATE HOUR    HOST (EXEC BY) MODULE ACTION : MESSAGE\n\nExample\n[DEBUG] 18/03/2024 21:46:23 sabu-server01 (system) FILES EXEC-SCRIPT : remove_old_files.sh was started to remove files older 10 days for /data\n\nField details\nTYPE\n=&gt; DEBUG, INFO, WARN, CRITICAL\n\nDATE HOUR\n=&gt; dd/mm/yyyy hh:mm:ss\n\nHOST\n=&gt; (output command hostname)\n\nEXEC BY\n=&gt; system (sabu), username (mbinet)\n\nMODULE\n=&gt; SETTINGS, FILES, ENDPOINT, etc\n\nACTION\n=&gt; Executed action\n\nMESSAGE\n=&gt; Details informations\n</code></pre>"},{"location":"dev/raspberry/","title":"Raspberry","text":""},{"location":"dev/raspberry/#screen","title":"Screen","text":"<p>To configure raspberry touchscreen : https://howchoo.com/pi/raspberry-pi-display-rotation/ </p> <p><code>nano /boot/firmware/config.txt</code></p> <pre><code># For more options and information see\n# http://rptl.io/configtxt\n# Some settings may impact device functionality. See link above for details\n\n# Uncomment some or all of these to enable the optional hardware interfaces\n#dtparam=i2c_arm=on\n#dtparam=i2s=on\n#dtparam=spi=on\n\n# Enable audio (loads snd_bcm2835)\ndtparam=audio=on\n\n# Additional overlays and parameters are documented\n# /boot/firmware/overlays/README\n\n# Automatically load overlays for detected cameras\ncamera_auto_detect=1\n\n# Automatically load overlays for detected DSI displays\ndisplay_auto_detect=1\n\n# Automatically load initramfs files, if found\nauto_initramfs=1\n\n# Enable DRM VC4 V3D driver\ndtoverlay=vc4-kms-dsi-7inch\n#dtoverlay=vc4-kms-dsi-7inch,sizex=400,invx,invy\ndtoverlay=vc4-kms-v3d\nmax_framebuffers=2\n\n# Don't have the firmware create an initial video= setting in cmdline.txt.\n# Use the kernel's default instead.\ndisable_fw_kms_setup=1\n\n# Run in 64-bit mode\narm_64bit=1\n\n# Disable compensation for displays with overscan\ndisable_overscan=1\n\n# Run as fast as firmware / board allows\narm_boost=1\n\n[cm4]\n# Enable host mode on the 2711 built-in XHCI USB controller.\n# This line should be removed if the legacy DWC2 controller is required\n# (e.g. for USB device mode) or if USB support is not required.\notg_mode=1\n\n[all]\n\nlcd_rotate=2\n</code></pre>"},{"location":"dev/raspberry/#login-with-custom-accound","title":"Login with custom accound","text":"<p>https://forums.raspberrypi.com/viewtopic.php?t=113617</p> <p><code>nano /etc/lightdm/lightdm.conf</code></p> <pre><code>Set autologin-user customUSer (Remplace customUser)\n</code></pre> <p>Reboot</p>"},{"location":"dev/raspberry/#chromium-at-startup","title":"Chromium at startup","text":"<p>https://gist.github.com/rampfox/085bf3ffb9ff51e114bf7afdf3ced71b</p> <p><code>nano ~/.config/wayfire.ini</code></p> <pre><code>[autostart]\nchromium = chromium-browser https://www.google.com --kiosk --noerrdialogs --disable-infobars --no-first-run --ozone-platform=wayland --enable-features=OverlayScrollbar --start-maximized\nscreensaver = false\ndpms = false\n</code></pre>"},{"location":"dev/versionning/","title":"Versionning","text":""},{"location":"dev/versionning/#versionning-de-release","title":"VERSIONNING DE RELEASE","text":""},{"location":"dev/versionning/#majeur-quand-il-y-a-des-changements-non-retrocompatibles","title":"MAJEUR: Quand il y a des changements non r\u00e9trocompatibles","text":"<p>Imaginez un champ unique \"name\". Si la nouvelle version s\u00e9pare en \"first name\" et \"last name\" et ne pr\u00e9voit plus un champ \"name\", il faudra \u00e9tablir comment les donn\u00e9es disponibles seront d\u00e9partag\u00e9es entre les nouveaux champs. Imaginez une biblioth\u00e8que de dessin qui pr\u00e9sente les fonctions drawCircle() et drawSquare(). Par souci d'uniformit\u00e9, les concepteurs d\u00e9cident de cr\u00e9er un objet draw avec la m\u00e9thode circle(), square(), rectangle(), elipse(), etc. Les deux fonctions disparaissent et sont remplac\u00e9es par draw.circle() et draw.square().</p>"},{"location":"dev/versionning/#mineur-quand-il-y-a-des-ajouts-de-fonctionnalites-retrocompatibles","title":"MINEUR : Quand il y a des ajouts de fonctionnalit\u00e9s r\u00e9trocompatibles","text":"<p>Ajouter un nouveau champ \"surname\" dans une table, tout en gardant \"first name\" et \"last  name\" intacts Pouvoir imprimer un document en modalit\u00e9 horizontale, tout en gardant la version verticale intacte et comme choix pr\u00e9d\u00e9fini</p>"},{"location":"dev/versionning/#correctif-quand-il-y-a-des-corrections-danomalies-retrocompatibles","title":"CORRECTIF: Quand il y a des corrections d\u2019anomalies r\u00e9trocompatibles.","text":"<p>Des petits bugs Des probl\u00e8mes de s\u00e9curit\u00e9 Am\u00e9lioration du code R\u00e9duction du temps d'ex\u00e9cution</p>"},{"location":"install/endpoint/","title":"Endpoint","text":"<p>Avant de commencer l'installation, veuillez consulter la documentation sur l'ajout d'un endpoint sur le panel d'administation.</p>"},{"location":"install/endpoint/#telecharger-le-script-dinstallation","title":"T\u00e9l\u00e9charger le script d'installation","text":"<pre><code>curl -sSL https://raw.githubusercontent.com/sabu-ws/endpoint/main/install.sh -o install.sh &amp;&amp; chmod +x install.sh\n</code></pre>"},{"location":"install/endpoint/#lancer-linstallation","title":"Lancer l'installation","text":"<pre><code>sh install.sh\n</code></pre>"},{"location":"install/endpoint/#lors-du-processus-dinstallation","title":"Lors du processus d'installation","text":"<ul> <li>Veuillez renseigner l'adresse IP du serveur SABU</li> <li>Veuillez renseigner le nom de l'endpoint (tel que configurer dans le panel d'administration)</li> <li>Veuillez renseigner son token</li> </ul> <p>Une fois l'installation termin\u00e9e l'endpoint va red\u00e9marrer.</p>"},{"location":"install/requirements/","title":"Requirements","text":"<p>En cours de r\u00e9daction...</p>"},{"location":"install/server/","title":"Server","text":""},{"location":"install/server/#telecharger-le-script-dinstallation","title":"T\u00e9l\u00e9charger le script d'installation","text":"<pre><code>curl -sSL https://raw.githubusercontent.com/sabu-ws/server/main/install.sh -o install.sh &amp;&amp; chmod +x install.sh\n</code></pre>"},{"location":"install/server/#lancer-linstallation","title":"Lancer l'installation","text":"<pre><code>sh install.sh\n</code></pre> <p>Une fois l'installation termin\u00e9e la machine va red\u00e9marrer.</p>"},{"location":"install/server/#acces-au-panel","title":"Acc\u00e8s au panel","text":"<p>Vous pouvez ensuite acc\u00e9der au panel d'administation via un navigateur :</p> <p>https://X.X.X.X (Remplacer par l'adresse IP de votre machine)</p>"},{"location":"install/server/#identifiant-par-defaut","title":"Identifiant par d\u00e9faut","text":"<p>Nom d'utilisateur : admin Mot de passe : Soon...</p>"}]}